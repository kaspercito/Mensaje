<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Milagros 🖤</title>
    <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            color: #ffffff;
            background-color: #000000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
        }

        h1 {
            font-size: 2.8em;
            color: #ffffff;
            margin-bottom: 20px;
        }

        h2 {
            font-size: 1.5em;
            color: #ffffff;
            margin: 10px 0;
        }

        p {
            font-size: 1.2em;
            color: #ffffff;
            margin: 15px 0;
        }

        .quote {
            font-size: 1.4em;
            font-style: italic;
            color: #000000;
            background-color: #87ceeb;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            max-width: 600px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .date {
            font-weight: bold;
            color: #87ceeb;
        }

        .messages {
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
            background-color: #1a1a1a;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }

        .message {
            background-color: #333333;
            color: #ffffff;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            text-align: left;
        }

        .message span {
            font-weight: bold;
            color: #87ceeb;
        }

        .spotify-now-playing {
            margin-top: 20px;
            background-color: #1a1a1a;
            color: #ffffff;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            max-width: 600px;
        }

        footer {
            margin-top: auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: #87ceeb;
            font-size: 0.9em;
            width: 100%;
            text-align: center;
            border-top: 1px solid #333333;
        }
    </style>
</head>
<body>
    <h1>Para Milagros 🖤</h1>
    <h2>Desde el <span class="date">16 de septiembre de 2023</span>, mi corazón late solo por ti y siempre lo hará.</h2>
    <p>Te esperaré el tiempo que sea necesario, porque mi amor es eterno e inquebrantable.</p>
    <div class="quote">"Cada día extraño saber cómo estás, cómo te va, recuerdo lo bueno, porque eso es lo que importa."</div>

    <div class="messages">
        <h2>Mensajes</h2>
        <div class="message"><span>12/01/2025:</span> Hoy he decidido crear esto, porque realmente no puedo vivir sin saber de ti, no sé si lo vayas a leer siempre, pero me tomaré el tiempo de mi vida, todos los días para escribirte, no quiero incomodarte ni llenarte de mensajes tu MD, pero aquí te demostraré que nadie cambiará lo que yo siento por vos, porque realmente eres la mujer de mi vida y esperaré lo que haga falta, espero puedas leer esto, pero yo te escribiré cada día que pase, te amo MBO ❤️🤞🏻🐀</div>
    </div>

    <!-- Spotify Now Playing -->
    <div id="spotify-now-playing" class="spotify-now-playing">
        <h2>Canción en reproducción</h2>
        <p id="song-info">Cargando información...</p>
    </div>

    <footer>
        <p>Es algo muy simple, pero lo hago con el 💙 porque eres lo más importante en mi vida y lo mereces.</p>
    </footer>

    <script>
        async function fetchNowPlaying() {
            const spotifyApiUrl = "https://mensaje-og98.onrender.com/spotify-now-playing"; // Cambia esto si tu URL es diferente
            const songInfoElement = document.getElementById("song-info");

            try {
                const response = await fetch(spotifyApiUrl);
                if (!response.ok) {
                    songInfoElement.textContent = "No se pudieron cargar las canciones.";
                    return;
                }

                const data = await response.json();
                if (data.song) {
                    songInfoElement.innerHTML = `
                        <strong>Canción:</strong> ${data.song}<br>
                        <strong>Artista:</strong> ${data.artist}<br>
                        <strong>Álbum:</strong> ${data.album}<br>
                        <a href="${data.url}" target="_blank">Escuchar en Spotify</a>
                        <br><img src="${data.image}" alt="Álbum" style="margin-top: 10px; border-radius: 8px; max-width: 100%;">
                    `;
                } else {
                    songInfoElement.textContent = data.message || "No estás escuchando música en este momento.";
                }
            } catch (error) {
                console.error("Error al obtener la canción:", error);
                songInfoElement.textContent = "Ocurrió un error al cargar la información.";
            }
        }

        // Actualiza la información cada 30 segundos
        fetchNowPlaying();
        setInterval(fetchNowPlaying, 30000);
    </script>
</body>
</html>
