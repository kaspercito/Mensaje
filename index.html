<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Milagros 🖤</title>
    <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            color: #ffffff;
            background-color: #000000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
        }

        h1 {
            font-size: 2.8em;
            color: #ffffff;
            margin-bottom: 20px;
        }

        h2 {
            font-size: 1.5em;
            color: #ffffff;
            margin: 10px 0;
        }

        p {
            font-size: 1.2em;
            color: #ffffff;
            margin: 15px 0;
        }

        .quote {
            font-size: 1.4em;
            font-style: italic;
            color: #000000;
            background-color: #87ceeb;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            max-width: 600px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .messages {
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
            background-color: #1a1a1a;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }

        .message {
            background-color: #333333;
            color: #ffffff;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            text-align: left;
        }

        .message span {
            font-weight: bold;
            color: #87ceeb;
        }

        footer {
            margin-top: auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: #87ceeb;
            font-size: 0.9em;
            width: 100%;
            text-align: center;
            border-top: 1px solid #333333;
        }

        #spotify-now-playing img {
            margin-top: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }

        #spotify-now-playing p {
            margin: 5px 0;
        }

        #spotify-now-playing a {
            color: #87ceeb;
            text-decoration: none;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.2em;
            }

            h2 {
                font-size: 1.3em;
            }

            p {
                font-size: 1em;
            }

            .quote {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <h1>Para Milagros 🖤</h1>
    <h2>Desde el <span class="date">16 de septiembre de 2023</span>, mi corazón late solo por ti y siempre lo hará.</h2>
    <p>Te esperaré el tiempo que sea necesario, porque mi amor es eterno e inquebrantable.</p>
    <div class="quote">"Cada día extraño saber cómo estás, cómo te va, recuerdo lo bueno, porque eso es lo que importa."</div>

    <div class="messages">
        <h2>Mensajes</h2>
        <div class="message"><span>12/01/2025:</span> Hoy he decidido crear esto, porque realmente no puedo vivir sin saber de ti. No sé si lo vayas a leer siempre, pero me tomaré el tiempo de mi vida, todos los días para escribirte. No quiero incomodarte ni llenarte de mensajes tu MD, pero aquí te demostraré que nadie cambiará lo que yo siento por vos, porque realmente eres la mujer de mi vida. Te amo MBO ❤️🤞🏻🐀</div>
    </div>

    <div id="spotify-now-playing">
        <h2>Canción en reproducción</h2>
        <p>Cargando la canción en reproducción...</p>
    </div>

    <footer>
        <p>Desde <span style="color: #ffffff; background-color: #87ceeb; padding: 2px 6px; border-radius: 4px;">Ecuador</span> hasta <span style="color: #000000; background-color: #ffffff; padding: 2px 6px; border-radius: 4px;">Argentina</span>, mi amor siempre te encuentra.</p>
        <p>Es algo muy simple, pero lo hago con el 💙 porque eres lo más importante en mi vida y lo mereces.</p>
    </footer>

    <script>
        async function fetchNowPlaying() {
            try {
                const response = await fetch('https://mensaje-og98.onrender.com/spotify-now-playing');
                const data = await response.json();

                const container = document.getElementById('spotify-now-playing');
                if (data.message) {
                    container.innerHTML = `<p>${data.message}</p>`;
                } else {
                    container.innerHTML = `
                        <img src="${data.albumArt}" alt="Portada del álbum" style="width: 100px; height: 100px;">
                        <p><strong>Canción:</strong> ${data.name}</p>
                        <p><strong>Artista:</strong> ${data.artist}</p>
                        <p><strong>Álbum:</strong> ${data.album}</p>
                        <a href="${data.link}" target="_blank">Escuchar en Spotify</a>
                    `;
                }
            } catch (error) {
                console.error('Error al obtener la canción actual:', error);
                document.getElementById('spotify-now-playing').innerHTML = '<p>Ocurrió un error al cargar la información.</p>';
            }
        }

        fetchNowPlaying();
        setInterval(fetchNowPlaying, 30000); // Actualizar cada 30 segundos
    </script>
</body>
</html>
