<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para mi Novia üñ§</title>
    <link rel="icon" href="favicon.jpg" type="image/jpg">
<!-- C√≥digo de Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-149JEMEZSC"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-149JEMEZSC');
    </script>
    <!-- Fin del C√≥digo de Google Analytics -->
    <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            color: #ffffff;
            background-color: #1c1c1c;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
        }
        h1 {
            font-size: 2.8em;
            color: #ffffff;
            margin-bottom: 20px;
        }
        h2 {
            font-size: 1.5em;
            color: #ffffff;
            margin: 10px 0;
        }
        p {
            font-size: 1.2em;
            color: #ffffff;
            margin: 15px 0;
        }
        .quote {
            font-size: 1.4em;
            font-style: italic;
            color: #000000;
            background-color: #87ceeb;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            max-width: 600px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .date {
            font-weight: bold;
            color: #87ceeb;
        }
        .messages {
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
            background-color: #1a1a1a;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }
        .message {
            background-color: #333333;
            color: #ffffff;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            text-align: left;
        }
        .message span {
            font-weight: bold;
            color: #87ceeb;
        }
        footer {
            margin-top: auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: #87ceeb;
            font-size: 0.9em;
            width: 100%;
            text-align: center;
            border-top: 1px solid #333333;
        }
        #distance, #timezones, #connection, #flags {
            margin: 10px 0;
        }
        .music-info {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            margin-top: 20px;
            background-color: #333333;
            padding: 20px;
            border-radius: 12px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }
        .music-info img {
            width: 200px;
            height: 200px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .music-info h3 {
            font-size: 1.5em;
            color: #ffffff;
            margin: 10px 0;
        }
        .music-info p {
            font-size: 1.3em;
            color: #1977b5;
        }
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2em;
            }
            h2 {
                font-size: 1.3em;
            }
            p {
                font-size: 1em;
            }
            .quote {
                font-size: 1.2em;
            }
            .music-info img {
                width: 150px;
                height: 150px;
            }
        #page-counter {
            font-size: 1.5rem;
            font-weight: bold;
            text-align: center;
            color: #ff69b4;
            padding: 10px;
            border: 2px solid #ff69b4;
            border-radius: 10px;
            background-color: #fff0f5;
            box-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
        }

    </style>
</head>
<body>
    <h1>Para mi Novia üñ§</h1>
    <p>Nuestro peque√±o ni√±o</p>
    <img src="https://i.imgur.com/iqt6Dbd.jpeg" alt="Perrito" style="width: 150px; border-radius: 10px; margin-top: 20px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);">
    
    <div class="messages">
        <h2>Mensajes</h2>
        <div class="message"><span>13/01/2025 20:31 p.m:</span> Este es el ultimo mensaje de hoy, queria comprobar que todo este bien hecho, espero este funcionando como deber√≠a, no se si lo leeras pero bueno, yo seguir√© escribiendo aqui todos los d√≠as</div>
        <div class="message"><span>13/01/2025 19:34 p.m:</span> Al parecer el bot que hice comenzo a funcionar, fue lo mas dificil de hacer, pero supongo que esta todo bien hecho ahora</div>
        <div class="message"><span>13/01/2025:</span> No he podido dormir como deberia y quisiera, pero me he dado cuenta que el amor de mi vida, mi novia a quien yo amaba por siempre desaparecio, ella me amaba, me cuidaba, me gustaba cuidarla, ella si valoro lo que yo hacia, pero muri√≥, te extra√±o mi rat√≥n peque√±o, me haces falta, me hace falta la mujer que yo conoci, espero poder levantarme con energ√≠as, te seguir√© pensando donde estes, espero poder encontrarte donde sea que hayas ido, porque no te he visto, ni sentido, ahora no te conozco, pero TE EXTRA√ëO COMO NO LO PUEDES IMAGINAR ‚ù§Ô∏èü§ûüèªüêÄ</div>
        <div class="message"><span>12/01/2025 21:27 p.m:</span> Acaba de ocurrir un sismo de 5.1, se sintio feo, el epicentro fue aqui, <a href="https://imgur.com/a/zjFehKj" target="_blank">ver imagen</a> pero estamos bien</div>
        <div class="message"><span>12/01/2025:</span> Hoy he decidido crear esto, lo hago con el coraz√≥n, y mi vida porque realmente no puedo vivir sin saber de ti, no s√© si lo vayas a leer siempre, pero me tomar√© el tiempo de mi vida, cada minuto, cada segundo por vos, todos los d√≠as para escribirte, no quiero incomodarte ni llenarte de mensajes tu MD, pero aqu√≠ te demostrar√© que nadie cambiar√° lo que yo siento por vos, porque realmente eres la mujer de mi vida te lo repetiria mil veces y esperar√© lo que haga falta, lo que mas me costo fue el bot que envi√© los mensajes autom√°ticamente pero bueno, espero puedas leer esto, pero yo te escribir√© cada d√≠a que pase, te amo MBO, siempre lo har√© ‚ù§Ô∏èü§ûüèªüêÄ</div>
    </div>
    
    <h2>Desde el <span class="date">16 de septiembre de 2023</span>, mi coraz√≥n late solo por ti y siempre lo har√°.</h2>
    <p id="page-counter"></p>
    <p>Te esperar√© el tiempo que sea necesario, pero extra√±o a mi novia, esa mujer que me amaba, que me llenaba de paz y alegr√≠a, porque mi amor por ti es infinito.</p>
    <div class="quote">"Cada d√≠a extra√±o saber como est√°s, como te va, recuerdo lo bueno, porque eso es lo que importa."</div>

    <div class="music-info">
        <h3>Lo que estoy escuchando ahora:</h3>
        <img id="album-image" src="" alt="Portada del √°lbum">
        <h3 id="song"></h3>
        <p id="artist"></p>
        <div id="progress-container" style="width: 100%; max-width: 600px; background-color: #444; border-radius: 10px; margin-top: 10px; height: 15px;">
            <div id="progress-bar" style="width: 0%; height: 100%; background-color: #87ceeb; border-radius: 10px;"></div>
        </div>
        <p id="time-info" style="margin-top: 5px; color: #ccc;">0:00 / 0:00</p>
        <p>Si la barra se mueve y </p>
        <p id="status-message" style="color: #ffffff; font-size: 1.1em;"></p>
    </div>
    
    <footer>
        <div id="distance">
            <p>Entre nosotros hay aproximadamente <span id="kilometers">3800</span> km. Pero a mi coraz√≥n no le importa la distancia.</p>
        </div>
        <div id="timezones">
            <p>Hora en Ecuador: <span id="ecuador-time">Cargando...</span></p>
            <p>Hora en Argentina: <span id="argentina-time">Cargando...</span></p>
        </div>
        <div id="connection">
            <p>Desde <span style="color: #ffffff; background-color: #87ceeb; padding: 2px 6px; border-radius: 4px;">Ecuador</span> hasta <span style="color: #000000; background-color: #ffffff; padding: 2px 6px; border-radius: 4px;">Argentina</span>, mi amor siempre te encuentra.</p>
        </div>
        <div id="flags">
            <img src="https://flagcdn.com/w320/ec.png" alt="Bandera de Ecuador" width="80">
            <span style="font-size: 2em;">‚ù§Ô∏è</span>
            <img src="https://flagcdn.com/w320/ar.png" alt="Bandera de Argentina" width="80">
        </div>
        <p>Es algo muy simple, pero lo hago con el üíô porque eres lo m√°s importante en mi vida y lo mereces.</p>
    </footer>
    <script>
        const pageCreationDate = new Date(2025, 0, 12);
        function updatePageCounter() {
            const today = new Date();
            const diffTime = today - pageCreationDate;
            const daysPassed = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            document.getElementById("page-counter").textContent = `Llevo ${daysPassed} d√≠as contandote sobre mi y lo que siento por ti. Cada palabra escrita es un reflejo de mi amor eterno, un testimonio de mi compromiso de esperar por la mujer que llenaba mis d√≠as de paz y alegr√≠a.`;
        }
        updatePageCounter();
        setInterval(updatePageCounter, 86400000);
    </script>
    <script>
    let currentTrackDuration = null; // Duraci√≥n de la canci√≥n actual
    let currentTime = 0; // Tiempo actual en segundos
    let isPlaying = false; // Estado de reproducci√≥n
    let lastTrackName = ''; // √öltimo nombre de la canci√≥n detectada

    async function fetchNowPlaying() {
        try {
            const response = await fetch('https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=Mylosk&api_key=5b08afa13b775c295e820232b02c650a&format=json');
            const data = await response.json();
            console.log('Datos de la API:', data); // Verifica qu√© datos est√°s recibiendo

            const track = data.recenttracks.track[0];

            if (track) {
                const currentTrackName = track.name;

                // Verifica si la canci√≥n ha cambiado
                if (currentTrackName !== lastTrackName) {
                    lastTrackName = currentTrackName; // Actualiza el √∫ltimo nombre de la canci√≥n

                    // Actualiza la informaci√≥n de la canci√≥n
                    document.getElementById('song').textContent = `Canci√≥n: ${track.name}`;
                    document.getElementById('artist').textContent = `Artista: ${track.artist['#text']}`;
                    document.getElementById('album-image').src = track.image[2]['#text']; // Obtener la imagen grande

                    // Comprobar si la canci√≥n se est√° reproduciendo
                    if (track['@attr'] && track['@attr'].nowplaying) {
                        isPlaying = true; // Si est√° en reproducci√≥n
                        currentTrackDuration = track.duration ? parseInt(track.duration) : 240; // Establece un valor por defecto si no hay duraci√≥n
                        currentTime = 0; // Reinicia el tiempo actual al cambiar de canci√≥n
                        console.log('Duraci√≥n de la canci√≥n:', currentTrackDuration); // Verifica la duraci√≥n
                    } else {
                        isPlaying = false; // Si no est√° en reproducci√≥n
                        console.log('La canci√≥n no se est√° reproduciendo'); // Mensaje de depuraci√≥n
                    }
                }
            } else {
                console.log('No hay pista disponible'); // Mensaje de depuraci√≥n si no hay pista
                currentTrackDuration = null; // Si no se puede obtener, mant√©n en null
                isPlaying = false; // Asumir que no est√° en reproducci√≥n
            }
            updateProgressBar(); // Actualiza la barra de progreso en cada llamada
        } catch (error) {
            console.error('Error al obtener la canci√≥n:', error); // Mensaje de error
        }
    }

    function updateProgressBar() {
        const progressBar = document.getElementById('progress-bar');
        const timeInfo = document.getElementById('time-info');
        const statusMessage = document.getElementById('status-message');

        if (currentTrackDuration !== null) {
            const progressPercent = (currentTime / currentTrackDuration) * 100;
            progressBar.style.width = `${progressPercent}%`;
            timeInfo.textContent = formatTime(currentTime); // Solo muestra los segundos transcurridos
        } else {
            progressBar.style.width = '0%'; // Si no hay duraci√≥n, la barra estar√° vac√≠a
            timeInfo.textContent = formatTime(currentTime); // Mostrar el tiempo acumulado
        }

        // Mensaje de estado
        if (!isPlaying) {
            statusMessage.textContent = "No estoy escuchando musica asi que seguramente este ocupado, durmiendo o no estoy en casa";
        } else {
            statusMessage.textContent = "Estoy escuchando musica asi que seguramente este en casa"; // Limpia el mensaje cuando est√° reproduciendo
        }
    }

    // Formatear tiempo en minutos y segundos
    function formatTime(seconds) {
        const minutes = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${minutes}:${secs.toString().padStart(2, '0')}`;
    }

    // Actualiza el progreso cada segundo si est√° en reproducci√≥n
    setInterval(() => {
        if (isPlaying) {
            currentTime = Math.min(currentTime + 1, currentTrackDuration || currentTime + 1); // Aumenta el tiempo actual cada segundo
            updateProgressBar();
        }
    }, 1000);

    // Llamar a la funci√≥n para obtener la canci√≥n actual y actualizar cada 1 segundo
    fetchNowPlaying();
    setInterval(fetchNowPlaying, 1000); // Actualiza cada 1 segundo
    </script>
    <script>
        function updateTime() {
            const ecuadorTimeElement = document.getElementById('ecuador-time');
            const argentinaTimeElement = document.getElementById('argentina-time');

            const ecuadorTime = new Date().toLocaleTimeString('es-EC', { timeZone: 'America/Guayaquil', hour12: true, hour: '2-digit', minute: '2-digit', second: '2-digit' });
            const argentinaTime = new Date().toLocaleTimeString('es-AR', { timeZone: 'America/Argentina/Buenos_Aires', hour12: true, hour: '2-digit', minute: '2-digit', second: '2-digit' });


            ecuadorTimeElement.textContent = ecuadorTime;
            argentinaTimeElement.textContent = argentinaTime;
        }

        setInterval(updateTime, 1000);
        updateTime();
    </script>
    
</body>
</html>
